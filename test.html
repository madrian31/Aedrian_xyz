<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Growing Random Tree</title>
  <style>
    body {
      margin: 0;
      background: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    canvas {
      background: white;
    }
  </style>
</head>
<body>
<canvas id="treeCanvas" width="600" height="600"></canvas>

<script>
  const canvas = document.getElementById('treeCanvas');
  const ctx = canvas.getContext('2d');

  ctx.translate(canvas.width / 2, canvas.height); // Bottom center origin

  function drawBranch(x, y, length, angle, depth, width) {
    if (depth === 0 || length < 2) return; // Avoid too many thin lines

    const x2 = x + length * Math.cos(angle);
    const y2 = y + length * Math.sin(angle);

    ctx.beginPath();
    ctx.lineWidth = width;
    ctx.strokeStyle = '#000000';
    ctx.lineCap = 'round';
    ctx.moveTo(x, y);
    ctx.lineTo(x2, y2);
    ctx.stroke();

    setTimeout(() => {
      const nextLength = length * (0.7 + Math.random() * 0.05); // Slight variation
      const nextWidth = width * 0.65; // Shrink faster for thinner top
      const angleDelta = Math.PI / 6; // 30 degrees

      const randomAngleOffset = () => (Math.random() - 0.5) * (Math.PI / 20); // LESS variation

      // Fewer branches, wider spacing
      drawBranch(x2, y2, nextLength, angle - angleDelta + randomAngleOffset(), depth - 1, nextWidth);
      drawBranch(x2, y2, nextLength, angle + angleDelta + randomAngleOffset(), depth - 1, nextWidth);

      // Middle branch less likely
      if (Math.random() > 0.8) {
        drawBranch(x2, y2, nextLength, angle + randomAngleOffset(), depth - 1, nextWidth);
      }
    }, 100);
  }

  // Start with 3 base branches to make trunk look natural
  const baseLength = 100;
  const baseWidth = 10;
  const maxDepth = 8; // ðŸ”½ Lowered from 10 to reduce top density

  drawBranch(0, 0, baseLength, -Math.PI / 2, maxDepth, baseWidth);
  drawBranch(0, 0, baseLength, -Math.PI / 2 - Math.PI / 30, maxDepth, baseWidth);
  drawBranch(0, 0, baseLength, -Math.PI / 2 + Math.PI / 30, maxDepth, baseWidth);

</script>
</body>
</html>
